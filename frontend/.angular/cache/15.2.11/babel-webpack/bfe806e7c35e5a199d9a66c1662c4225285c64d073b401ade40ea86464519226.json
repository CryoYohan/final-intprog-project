{"ast":null,"code":"import { first } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/_services\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ListComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵelement(1, \"span\", 37);\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0, a1, a2, a3) {\n  return {\n    \"bg-success\": a0,\n    \"bg-warning\": a1,\n    \"bg-danger\": a2,\n    \"bg-secondary\": a3\n  };\n};\nconst _c1 = function (a1) {\n  return [\"/employees/edit\", a1];\n};\nfunction ListComponent_table_11_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"span\", 41);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"td\")(16, \"div\", 42)(17, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function ListComponent_table_11_tr_18_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const employee_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.viewRequests(employee_r9.id));\n    });\n    i0.ɵɵtext(18, \"Requests\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function ListComponent_table_11_tr_18_Template_button_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const employee_r9 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.viewWorkflows(employee_r9.id));\n    });\n    i0.ɵɵtext(20, \"Workflows\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"a\", 44);\n    i0.ɵɵtext(22, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function ListComponent_table_11_tr_18_Template_button_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const employee_r9 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.openChangeDepartment(employee_r9));\n    });\n    i0.ɵɵtext(24, \"Transfer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function ListComponent_table_11_tr_18_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const employee_r9 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.openDeleteModal(employee_r9));\n    });\n    i0.ɵɵtext(26, \"Delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const employee_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r9.employeeId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", employee_r9.account == null ? null : employee_r9.account.firstName, \" \", employee_r9.account == null ? null : employee_r9.account.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r9.departmentName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r9.position);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 9, employee_r9.hireDate, \"MM/dd/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(12, _c0, employee_r9.status === \"Active\", employee_r9.status === \"On Leave\", employee_r9.status === \"Terminated\", employee_r9.status === \"Inactive\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(employee_r9.status);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(17, _c1, employee_r9.id));\n  }\n}\nfunction ListComponent_table_11_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 47)(2, \"span\", 48);\n    i0.ɵɵtext(3, \"No employees found\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ListComponent_table_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 38)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Employee ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Department\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Position\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Hire Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, ListComponent_table_11_tr_18_Template, 27, 19, \"tr\", 39);\n    i0.ɵɵtemplate(19, ListComponent_table_11_tr_19_Template, 4, 0, \"tr\", 40);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.employees);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.employees.length === 0);\n  }\n}\nfunction ListComponent_span_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 49);\n  }\n}\nfunction ListComponent_option_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dept_r15 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", dept_r15.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", dept_r15.name, \" \");\n  }\n}\nfunction ListComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51);\n    i0.ɵɵtext(1, \" Please select a department \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListComponent_span_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 49);\n  }\n}\nfunction ListComponent_div_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 52);\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nexport let ListComponent = /*#__PURE__*/(() => {\n  class ListComponent {\n    // Computed property to get available departments (excluding current department)\n    get availableDepartments() {\n      if (!this.selectedEmployee) return this.departments;\n      return this.departments.filter(dept => {\n        var _a;\n        return dept.id.toString() !== ((_a = this.selectedEmployee) === null || _a === void 0 ? void 0 : _a.departmentId.toString());\n      });\n    }\n    constructor(accountService, employeeService, departmentService, alertService, router) {\n      this.accountService = accountService;\n      this.employeeService = employeeService;\n      this.departmentService = departmentService;\n      this.alertService = alertService;\n      this.router = router;\n      this.employees = [];\n      this.departments = [];\n      this.showDeleteModal = false;\n      this.showDepartmentModal = false;\n      this.employeeToDelete = null;\n      this.selectedEmployee = null;\n      this.newDepartmentId = '';\n      this.loading = false;\n      this.submitted = false;\n    }\n    ngOnInit() {\n      this.loadEmployees();\n      this.loadDepartments();\n    }\n    loadEmployees() {\n      this.employeeService.getAll().pipe(first()).subscribe(employees => {\n        this.employees = employees;\n        // Load department names for each employee\n        this.employees.forEach(employee => {\n          this.departmentService.getById(employee.departmentId).pipe(first()).subscribe(department => {\n            employee.departmentName = department.name;\n          });\n        });\n      });\n    }\n    loadDepartments() {\n      this.departmentService.getAll().pipe(first()).subscribe(departments => {\n        this.departments = departments;\n      });\n    }\n    openDeleteModal(employee) {\n      this.employeeToDelete = employee;\n      this.showDeleteModal = true;\n    }\n    cancelDelete() {\n      this.showDeleteModal = false;\n      this.employeeToDelete = null;\n    }\n    confirmDelete() {\n      if (!this.employeeToDelete) return;\n      this.loading = true;\n      const id = this.employeeToDelete.id;\n      this.employeeService.delete(id).pipe(first()).subscribe({\n        next: () => {\n          this.employees = this.employees.filter(x => x.id !== id);\n          this.showDeleteModal = false;\n          this.employeeToDelete = null;\n          this.loading = false;\n          this.alertService.success('Employee deleted successfully');\n        },\n        error: error => {\n          this.alertService.error(error);\n          this.loading = false;\n        }\n      });\n    }\n    // Change Department methods\n    openChangeDepartment(employee) {\n      this.selectedEmployee = employee;\n      this.newDepartmentId = '';\n      this.submitted = false;\n      this.showDepartmentModal = true;\n    }\n    cancelChangeDepartment() {\n      this.showDepartmentModal = false;\n      this.selectedEmployee = null;\n      this.newDepartmentId = '';\n      this.submitted = false;\n    }\n    confirmChangeDepartment() {\n      this.submitted = true;\n      if (!this.newDepartmentId || !this.selectedEmployee) return;\n      this.loading = true;\n      const updateData = Object.assign(Object.assign({}, this.selectedEmployee), {\n        departmentId: this.newDepartmentId\n      });\n      this.employeeService.update(this.selectedEmployee.id, updateData).pipe(first()).subscribe({\n        next: () => {\n          this.showDepartmentModal = false;\n          this.alertService.success('Department changed successfully');\n          this.loadEmployees(); // Reload the list to show updated data\n          this.loading = false;\n          this.selectedEmployee = null;\n          this.newDepartmentId = '';\n          this.submitted = false;\n        },\n        error: error => {\n          this.alertService.error(error);\n          this.loading = false;\n        }\n      });\n    }\n    viewRequests(employeeId) {\n      // Get the employee object\n      const employee = this.employees.find(e => e.id === employeeId);\n      if (employee) {\n        this.router.navigate(['/requests'], {\n          queryParams: {\n            employeeId: employee.id\n          }\n        });\n      }\n    }\n    viewWorkflows(employeeid) {\n      this.router.navigate(['/workflows'], {\n        queryParams: {\n          employeeid\n        }\n      });\n    }\n  }\n  ListComponent.ɵfac = function ListComponent_Factory(t) {\n    return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i1.EmployeeService), i0.ɵɵdirectiveInject(i1.DepartmentService), i0.ɵɵdirectiveInject(i1.AlertService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  ListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListComponent,\n    selectors: [[\"ng-component\"]],\n    decls: 71,\n    vars: 32,\n    consts: [[1, \"mb-4\"], [1, \"card\"], [1, \"card-header\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"mb-0\"], [\"routerLink\", \"add\", 1, \"btn\", \"btn-primary\"], [1, \"card-body\"], [\"class\", \"text-center p-5\", 4, \"ngIf\"], [\"class\", \"table table-striped\", 4, \"ngIf\"], [\"tabindex\", \"-1\", \"role\", \"dialog\", 1, \"modal\"], [1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\", \"bg-danger\", \"text-white\"], [1, \"modal-title\"], [\"type\", \"button\", 1, \"btn-close\", \"btn-close-white\", 3, \"click\"], [1, \"modal-body\"], [1, \"text-center\", \"mb-3\"], [1, \"fas\", \"fa-exclamation-triangle\", \"text-danger\", 2, \"font-size\", \"3rem\"], [1, \"text-center\", \"mb-1\"], [1, \"text-center\", \"mb-0\"], [1, \"text-center\", \"text-muted\", \"small\", \"mb-0\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"disabled\", \"click\"], [\"class\", \"spinner-border spinner-border-sm me-1\", 4, \"ngIf\"], [1, \"modal-header\", \"bg-info\", \"text-white\"], [1, \"text-muted\", \"mb-2\"], [1, \"h5\", \"mb-3\"], [1, \"form-select\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"invalid-feedback d-block\", 4, \"ngIf\"], [1, \"text-muted\", \"small\", \"mt-2\"], [1, \"fas\", \"fa-info-circle\", \"me-1\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", \"text-white\", 3, \"disabled\", \"click\"], [\"class\", \"modal-backdrop show\", 4, \"ngIf\"], [1, \"text-center\", \"p-5\"], [1, \"spinner-border\", \"spinner-border-lg\", \"align-center\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"badge\", 3, \"ngClass\"], [1, \"btn-group\"], [1, \"btn\", \"btn-sm\", \"btn-info\", \"me-1\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", \"me-1\", 3, \"routerLink\"], [1, \"btn\", \"btn-sm\", \"btn-warning\", \"text-white\", \"me-1\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"], [\"colspan\", \"7\", 1, \"text-center\"], [1, \"text-muted\"], [1, \"spinner-border\", \"spinner-border-sm\", \"me-1\"], [3, \"value\"], [1, \"invalid-feedback\", \"d-block\"], [1, \"modal-backdrop\", \"show\"]],\n    template: function ListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\", 0);\n        i0.ɵɵtext(1, \"Employees\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"h5\", 4);\n        i0.ɵɵtext(6, \"Employee List\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"a\", 5);\n        i0.ɵɵtext(8, \"Add Employee\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(9, \"div\", 6);\n        i0.ɵɵtemplate(10, ListComponent_div_10_Template, 2, 0, \"div\", 7);\n        i0.ɵɵtemplate(11, ListComponent_table_11_Template, 20, 2, \"table\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 9)(13, \"div\", 10)(14, \"div\", 11)(15, \"div\", 12)(16, \"h5\", 13);\n        i0.ɵɵtext(17, \"Confirm Delete\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function ListComponent_Template_button_click_18_listener() {\n          return ctx.cancelDelete();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 15)(20, \"div\", 16);\n        i0.ɵɵelement(21, \"i\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"p\", 18);\n        i0.ɵɵtext(23, \"Are you sure you want to delete this employee?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"p\", 19)(25, \"strong\");\n        i0.ɵɵtext(26);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"p\", 20);\n        i0.ɵɵtext(28, \"This action cannot be undone.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"div\", 21)(30, \"button\", 22);\n        i0.ɵɵlistener(\"click\", function ListComponent_Template_button_click_30_listener() {\n          return ctx.cancelDelete();\n        });\n        i0.ɵɵtext(31, \"Cancel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"button\", 23);\n        i0.ɵɵlistener(\"click\", function ListComponent_Template_button_click_32_listener() {\n          return ctx.confirmDelete();\n        });\n        i0.ɵɵtemplate(33, ListComponent_span_33_Template, 1, 0, \"span\", 24);\n        i0.ɵɵtext(34, \" Delete Employee \");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(35, \"div\", 9)(36, \"div\", 10)(37, \"div\", 11)(38, \"div\", 25)(39, \"h5\", 13);\n        i0.ɵɵtext(40, \"Change Department\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function ListComponent_Template_button_click_41_listener() {\n          return ctx.cancelChangeDepartment();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(42, \"div\", 15)(43, \"div\", 0)(44, \"h6\", 26);\n        i0.ɵɵtext(45, \"Employee\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"p\", 27);\n        i0.ɵɵtext(47);\n        i0.ɵɵpipe(48, \"titlecase\");\n        i0.ɵɵpipe(49, \"titlecase\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"h6\", 26);\n        i0.ɵɵtext(51, \"Current Department\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"p\", 27);\n        i0.ɵɵtext(53);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"h6\", 26);\n        i0.ɵɵtext(55, \"New Department\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"select\", 28);\n        i0.ɵɵlistener(\"ngModelChange\", function ListComponent_Template_select_ngModelChange_56_listener($event) {\n          return ctx.newDepartmentId = $event;\n        });\n        i0.ɵɵelementStart(57, \"option\", 29);\n        i0.ɵɵtext(58, \"Select Department...\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(59, ListComponent_option_59_Template, 2, 2, \"option\", 30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(60, ListComponent_div_60_Template, 2, 0, \"div\", 31);\n        i0.ɵɵelementStart(61, \"div\", 32);\n        i0.ɵɵelement(62, \"i\", 33);\n        i0.ɵɵtext(63, \" Current department is excluded from selection \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(64, \"div\", 21)(65, \"button\", 22);\n        i0.ɵɵlistener(\"click\", function ListComponent_Template_button_click_65_listener() {\n          return ctx.cancelChangeDepartment();\n        });\n        i0.ɵɵtext(66, \"Cancel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"button\", 34);\n        i0.ɵɵlistener(\"click\", function ListComponent_Template_button_click_67_listener() {\n          return ctx.confirmChangeDepartment();\n        });\n        i0.ɵɵtemplate(68, ListComponent_span_68_Template, 1, 0, \"span\", 24);\n        i0.ɵɵtext(69, \" Save Changes \");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵtemplate(70, ListComponent_div_70_Template, 1, 0, \"div\", 35);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", !ctx.employees);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.employees);\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassProp(\"show\", ctx.showDeleteModal)(\"d-block\", ctx.showDeleteModal);\n        i0.ɵɵadvance(14);\n        i0.ɵɵtextInterpolate3(\"\", ctx.employeeToDelete == null ? null : ctx.employeeToDelete.employeeId, \" - \", ctx.employeeToDelete == null ? null : ctx.employeeToDelete.account == null ? null : ctx.employeeToDelete.account.firstName, \" \", ctx.employeeToDelete == null ? null : ctx.employeeToDelete.account == null ? null : ctx.employeeToDelete.account.lastName, \"\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"disabled\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"show\", ctx.showDepartmentModal)(\"d-block\", ctx.showDepartmentModal);\n        i0.ɵɵadvance(12);\n        i0.ɵɵtextInterpolate3(\"\", ctx.selectedEmployee == null ? null : ctx.selectedEmployee.employeeId, \" - \", i0.ɵɵpipeBind1(48, 26, ctx.selectedEmployee == null ? null : ctx.selectedEmployee.account == null ? null : ctx.selectedEmployee.account.firstName), \" \", i0.ɵɵpipeBind1(49, 28, ctx.selectedEmployee == null ? null : ctx.selectedEmployee.account == null ? null : ctx.selectedEmployee.account.lastName), \"\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.selectedEmployee == null ? null : ctx.selectedEmployee.departmentName);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newDepartmentId)(\"ngClass\", i0.ɵɵpureFunction1(30, _c2, ctx.submitted && !ctx.newDepartmentId));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.availableDepartments);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.submitted && !ctx.newDepartmentId);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"disabled\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.showDeleteModal || ctx.showDepartmentModal);\n      }\n    },\n    dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel, i2.RouterLink, i3.TitleCasePipe, i3.DatePipe],\n    encapsulation: 2\n  });\n  return ListComponent;\n})();","map":{"version":3,"mappings":"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","names":["first","i0","ListComponent","availableDepartments","selectedEmployee","departments","filter","dept","id","toString","departmentId","constructor","accountService","employeeService","departmentService","alertService","router","ngOnInit","loadEmployees","loadDepartments","getAll","pipe","subscribe","employees","forEach","employee","getById","department","departmentName","name","openDeleteModal","employeeToDelete","showDeleteModal","cancelDelete","confirmDelete","loading","delete","next","x","success","error","openChangeDepartment","newDepartmentId","submitted","showDepartmentModal","cancelChangeDepartment","confirmChangeDepartment","updateData","update","viewRequests","employeeId","find","e","navigate","queryParams","viewWorkflows","employeeid","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\JiM\\School\\3rd Year\\2nd Semester\\SUBJECTS\\IT-INTPROG32\\Coding (INTPROG32)\\Final\\project7\\frontend\\src\\app\\employees\\list.component.ts","D:\\JiM\\School\\3rd Year\\2nd Semester\\SUBJECTS\\IT-INTPROG32\\Coding (INTPROG32)\\Final\\project7\\frontend\\src\\app\\employees\\list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { first } from 'rxjs/operators';\n\nimport { AccountService, EmployeeService, DepartmentService, AlertService } from '@app/_services';\nimport { Employee, Department } from '@app/_models';\n\n@Component({ templateUrl: 'list.component.html' })\nexport class ListComponent implements OnInit {\n    employees: Employee[] = [];\n    departments: Department[] = [];\n    showDeleteModal = false;\n    showDepartmentModal = false;\n    employeeToDelete: Employee | null = null;\n    selectedEmployee: Employee | null = null;\n    newDepartmentId: string = '';\n    loading = false;\n    submitted = false;\n\n    // Computed property to get available departments (excluding current department)\n    get availableDepartments(): Department[] {\n        if (!this.selectedEmployee) return this.departments;\n        return this.departments.filter(dept => dept.id.toString() !== this.selectedEmployee?.departmentId.toString());\n    }\n\n    constructor(\n        private accountService: AccountService,\n        private employeeService: EmployeeService,\n        private departmentService: DepartmentService,\n        private alertService: AlertService,\n        private router: Router\n    ) {}\n\n    ngOnInit() {\n        this.loadEmployees();\n        this.loadDepartments();\n    }\n\n    private loadEmployees() {\n        this.employeeService.getAll()\n            .pipe(first())\n            .subscribe(employees => {\n                this.employees = employees;\n                // Load department names for each employee\n                this.employees.forEach(employee => {\n                    this.departmentService.getById(employee.departmentId)\n                        .pipe(first())\n                        .subscribe(department => {\n                            employee.departmentName = department.name;\n                        });\n                });\n            });\n    }\n\n    private loadDepartments() {\n        this.departmentService.getAll()\n            .pipe(first())\n            .subscribe(departments => {\n                this.departments = departments;\n            });\n    }\n\n    openDeleteModal(employee: Employee) {\n        this.employeeToDelete = employee;\n        this.showDeleteModal = true;\n    }\n\n    cancelDelete() {\n        this.showDeleteModal = false;\n        this.employeeToDelete = null;\n    }\n\n    confirmDelete() {\n        if (!this.employeeToDelete) return;\n\n        this.loading = true;\n        const id = this.employeeToDelete.id;\n        this.employeeService.delete(id)\n            .pipe(first())\n            .subscribe({\n                next: () => {\n                    this.employees = this.employees.filter(x => x.id !== id);\n                    this.showDeleteModal = false;\n                    this.employeeToDelete = null;\n                    this.loading = false;\n                    this.alertService.success('Employee deleted successfully');\n                },\n                error: error => {\n                    this.alertService.error(error);\n                    this.loading = false;\n                }\n            });\n    }\n\n    // Change Department methods\n    openChangeDepartment(employee: Employee) {\n        this.selectedEmployee = employee;\n        this.newDepartmentId = '';\n        this.submitted = false;\n        this.showDepartmentModal = true;\n    }\n\n    cancelChangeDepartment() {\n        this.showDepartmentModal = false;\n        this.selectedEmployee = null;\n        this.newDepartmentId = '';\n        this.submitted = false;\n    }\n\n    confirmChangeDepartment() {\n        this.submitted = true;\n        if (!this.newDepartmentId || !this.selectedEmployee) return;\n\n        this.loading = true;\n        const updateData = {\n            ...this.selectedEmployee,\n            departmentId: this.newDepartmentId\n        };\n\n        this.employeeService.update(this.selectedEmployee.id, updateData)\n            .pipe(first())\n            .subscribe({\n                next: () => {\n                    this.showDepartmentModal = false;\n                    this.alertService.success('Department changed successfully');\n                    this.loadEmployees(); // Reload the list to show updated data\n                    this.loading = false;\n                    this.selectedEmployee = null;\n                    this.newDepartmentId = '';\n                    this.submitted = false;\n                },\n                error: error => {\n                    this.alertService.error(error);\n                    this.loading = false;\n                }\n            });\n    }\n\n    viewRequests(employeeId: string) {\n        // Get the employee object\n        const employee = this.employees.find(e => e.id === employeeId);\n        if (employee) {\n            this.router.navigate(['/requests'], { queryParams: { employeeId: employee.id } });\n        }\n    }\n\n    viewWorkflows(employeeid: string) {\n        this.router.navigate(['/workflows'], { queryParams: { employeeid } });\n    }\n} ","<h1 class=\"mb-4\">Employees</h1>\n<div class=\"card\">\n    <div class=\"card-header\">\n        <div class=\"d-flex justify-content-between align-items-center\">\n            <h5 class=\"mb-0\">Employee List</h5>\n            <a routerLink=\"add\" class=\"btn btn-primary\">Add Employee</a>\n        </div>\n    </div>\n    <div class=\"card-body\">\n        <div *ngIf=\"!employees\" class=\"text-center p-5\">\n            <span class=\"spinner-border spinner-border-lg align-center\"></span>\n        </div>\n        <table *ngIf=\"employees\" class=\"table table-striped\">\n            <thead>\n                <tr>\n                    <th>Employee ID</th>\n                    <th>Name</th>\n                    <th>Department</th>\n                    <th>Position</th>\n                    <th>Hire Date</th>\n                    <th>Status</th>\n                    <th>Actions</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let employee of employees\">\n                    <td>{{employee.employeeId}}</td>\n                    <td>{{employee.account?.firstName}} {{employee.account?.lastName}}</td>\n                    <td>{{employee.departmentName}}</td>\n                    <td>{{employee.position}}</td>\n                    <td>{{employee.hireDate | date:'MM/dd/yyyy'}}</td>\n                    <td><span class=\"badge\" [ngClass]=\"{\n                        'bg-success': employee.status === 'Active',\n                        'bg-warning': employee.status === 'On Leave',\n                        'bg-danger': employee.status === 'Terminated',\n                        'bg-secondary': employee.status === 'Inactive'\n                    }\">{{employee.status}}</span></td>\n                    <td>\n                        <div class=\"btn-group\">\n                            <button class=\"btn btn-sm btn-info me-1\" (click)=\"viewRequests(employee.id)\">Requests</button>\n                            <button class=\"btn btn-sm btn-info me-1\" (click)=\"viewWorkflows(employee.id)\">Workflows</button>\n                            <a [routerLink]=\"['/employees/edit', employee.id]\" class=\"btn btn-sm btn-primary me-1\">Edit</a>\n                            <button (click)=\"openChangeDepartment(employee)\" class=\"btn btn-sm btn-warning text-white me-1\">Transfer</button>\n                            <button (click)=\"openDeleteModal(employee)\" class=\"btn btn-sm btn-danger\">Delete</button>\n                        </div>\n                    </td>\n                </tr>\n                <tr *ngIf=\"employees.length === 0\">\n                    <td colspan=\"7\" class=\"text-center\">\n                        <span class=\"text-muted\">No employees found</span>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n<!-- Delete Confirmation Modal -->\n<div class=\"modal\" [class.show]=\"showDeleteModal\" [class.d-block]=\"showDeleteModal\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-dialog-centered\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header bg-danger text-white\">\n                <h5 class=\"modal-title\">Confirm Delete</h5>\n                <button type=\"button\" class=\"btn-close btn-close-white\" (click)=\"cancelDelete()\"></button>\n            </div>\n            <div class=\"modal-body\">\n                <div class=\"text-center mb-3\">\n                    <i class=\"fas fa-exclamation-triangle text-danger\" style=\"font-size: 3rem;\"></i>\n                </div>\n                <p class=\"text-center mb-1\">Are you sure you want to delete this employee?</p>\n                <p class=\"text-center mb-0\"><strong>{{employeeToDelete?.employeeId}} - {{employeeToDelete?.account?.firstName}} {{employeeToDelete?.account?.lastName}}</strong></p>\n                <p class=\"text-center text-muted small mb-0\">This action cannot be undone.</p>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary\" (click)=\"cancelDelete()\">Cancel</button>\n                <button type=\"button\" class=\"btn btn-danger\" (click)=\"confirmDelete()\" [disabled]=\"loading\">\n                    <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm me-1\"></span>\n                    Delete Employee\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<!-- Change Department Modal -->\n<div class=\"modal\" [class.show]=\"showDepartmentModal\" [class.d-block]=\"showDepartmentModal\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog modal-dialog-centered\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header bg-info text-white\">\n                <h5 class=\"modal-title\">Change Department</h5>\n                <button type=\"button\" class=\"btn-close btn-close-white\" (click)=\"cancelChangeDepartment()\"></button>\n            </div>\n            <div class=\"modal-body\">\n                <div class=\"mb-4\">\n                    <h6 class=\"text-muted mb-2\">Employee</h6>\n                    <p class=\"h5 mb-3\">{{selectedEmployee?.employeeId}} - {{selectedEmployee?.account?.firstName | titlecase}} {{selectedEmployee?.account?.lastName | titlecase}}</p>\n                    \n                    <h6 class=\"text-muted mb-2\">Current Department</h6>\n                    <p class=\"h5 mb-3\">{{selectedEmployee?.departmentName}}</p>\n\n                    <h6 class=\"text-muted mb-2\">New Department</h6>\n                    <select [(ngModel)]=\"newDepartmentId\" class=\"form-select\" [ngClass]=\"{ 'is-invalid': submitted && !newDepartmentId }\">\n                        <option value=\"\">Select Department...</option>\n                        <option *ngFor=\"let dept of availableDepartments\" [value]=\"dept.id\">\n                            {{dept.name}}\n                        </option>\n                    </select>\n                    <div *ngIf=\"submitted && !newDepartmentId\" class=\"invalid-feedback d-block\">\n                        Please select a department\n                    </div>\n                    <div class=\"text-muted small mt-2\">\n                        <i class=\"fas fa-info-circle me-1\"></i>\n                        Current department is excluded from selection\n                    </div>\n                </div>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary\" (click)=\"cancelChangeDepartment()\">Cancel</button>\n                <button type=\"button\" class=\"btn btn-info text-white\" (click)=\"confirmChangeDepartment()\" [disabled]=\"loading\">\n                    <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm me-1\"></span>\n                    Save Changes\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<!-- Confirmation Modal Backdrop -->\n<div class=\"modal-backdrop show\" *ngIf=\"showDeleteModal || showDepartmentModal\"></div> "]},"metadata":{},"sourceType":"module","externalDependencies":[]}