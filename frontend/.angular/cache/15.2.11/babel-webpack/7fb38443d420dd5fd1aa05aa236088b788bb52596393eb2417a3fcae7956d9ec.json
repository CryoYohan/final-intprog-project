{"ast":null,"code":"import { first } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/_services\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction ListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListComponent_table_3_tr_13_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 14);\n  }\n}\nfunction ListComponent_table_3_tr_13_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Delete\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListComponent_table_3_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 10)(10, \"a\", 11);\n    i0.ɵɵtext(11, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ListComponent_table_3_tr_13_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const employee_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.deleteEmployee(employee_r4.id));\n    });\n    i0.ɵɵtemplate(13, ListComponent_table_3_tr_13_span_13_Template, 1, 0, \"span\", 13);\n    i0.ɵɵtemplate(14, ListComponent_table_3_tr_13_span_14_Template, 2, 0, \"span\", 9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const employee_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r4.employeeId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", employee_r4.account == null ? null : employee_r4.account.firstName, \" \", employee_r4.account == null ? null : employee_r4.account.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r4.department);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r4.position);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"../edit/\", employee_r4.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", employee_r4.isDeleting);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", employee_r4.isDeleting);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !employee_r4.isDeleting);\n  }\n}\nfunction ListComponent_table_3_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 15)(2, \"span\", 16);\n    i0.ɵɵtext(3, \"No employees found\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ListComponent_table_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 6)(1, \"thead\")(2, \"tr\")(3, \"th\", 7);\n    i0.ɵɵtext(4, \"Employee ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 7);\n    i0.ɵɵtext(6, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 7);\n    i0.ɵɵtext(8, \"Department\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 7);\n    i0.ɵɵtext(10, \"Position\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"th\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, ListComponent_table_3_tr_13_Template, 15, 9, \"tr\", 8);\n    i0.ɵɵtemplate(14, ListComponent_table_3_tr_14_Template, 4, 0, \"tr\", 9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.employees);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.employees.length === 0);\n  }\n}\nexport let ListComponent = /*#__PURE__*/(() => {\n  class ListComponent {\n    constructor(accountService, employeeService) {\n      this.accountService = accountService;\n      this.employeeService = employeeService;\n      this.employees = null;\n    }\n    ngOnInit() {\n      this.employeeService.getAll().pipe(first()).subscribe(employees => this.employees = employees);\n    }\n    deleteEmployee(id) {\n      const employee = this.employees.find(x => x.id === id);\n      employee.isDeleting = true;\n      this.employeeService.delete(id).pipe(first()).subscribe(() => {\n        this.employees = this.employees.filter(x => x.id !== id);\n      });\n    }\n  }\n  ListComponent.ɵfac = function ListComponent_Factory(t) {\n    return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i1.EmployeeService));\n  };\n  ListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListComponent,\n    selectors: [[\"ng-component\"]],\n    decls: 4,\n    vars: 2,\n    consts: [[1, \"card\"], [1, \"card-body\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"table table-striped\", 4, \"ngIf\"], [1, \"text-center\"], [1, \"spinner-border\", \"spinner-border-lg\", \"align-center\"], [1, \"table\", \"table-striped\"], [2, \"width\", \"20%\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [2, \"white-space\", \"nowrap\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", \"me-1\", 3, \"routerLink\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", \"btn-delete-employee\", 3, \"disabled\", \"click\"], [\"class\", \"spinner-border spinner-border-sm\", 4, \"ngIf\"], [1, \"spinner-border\", \"spinner-border-sm\"], [\"colspan\", \"5\", 1, \"text-center\"], [1, \"text-muted\"]],\n    template: function ListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵtemplate(2, ListComponent_div_2_Template, 2, 0, \"div\", 2);\n        i0.ɵɵtemplate(3, ListComponent_table_3_Template, 15, 2, \"table\", 3);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.employees);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.employees);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink],\n    encapsulation: 2\n  });\n  return ListComponent;\n})();","map":{"version":3,"mappings":"AACA,SAASA,KAAK,QAAQ,gBAAgB;;;;;;;ICC9BC,8BAA4C;IACxCA,0BAAmE;IACvEA,iBAAM;;;;;IAqBcA,2BAAkF;;;;;IAClFA,4BAAmC;IAAAA,sBAAM;IAAAA,iBAAO;;;;;;IAV5DA,0BAAuC;IAC/BA,YAAuB;IAAAA,iBAAK;IAChCA,0BAAI;IAAAA,YAA8D;IAAAA,iBAAK;IACvEA,0BAAI;IAAAA,YAAuB;IAAAA,iBAAK;IAChCA,0BAAI;IAAAA,YAAqB;IAAAA,iBAAK;IAC9BA,8BAAgC;IACgDA,qBAAI;IAAAA,iBAAI;IACpFA,mCACqC;IAD7BA;MAAA;MAAA;MAAA;MAAA,OAASA,oDAA2B;IAAA,EAAC;IAEzCA,iFAAkF;IAClFA,gFAAgD;IACpDA,iBAAS;;;;IAVTA,eAAuB;IAAvBA,4CAAuB;IACvBA,eAA8D;IAA9DA,yKAA8D;IAC9DA,eAAuB;IAAvBA,4CAAuB;IACvBA,eAAqB;IAArBA,0CAAqB;IAElBA,eAAoC;IAApCA,uEAAoC;IAEnCA,eAAgC;IAAhCA,iDAAgC;IACzBA,eAAyB;IAAzBA,6CAAyB;IACzBA,eAA0B;IAA1BA,8CAA0B;;;;;IAI7CA,0BAAmC;IAEFA,kCAAkB;IAAAA,iBAAO;;;;;IA3BlEA,gCAAqD;IAGlBA,2BAAW;IAAAA,iBAAK;IACvCA,6BAAuB;IAAAA,oBAAI;IAAAA,iBAAK;IAChCA,6BAAuB;IAAAA,0BAAU;IAAAA,iBAAK;IACtCA,6BAAuB;IAAAA,yBAAQ;IAAAA,iBAAK;IACpCA,yBAA4B;IAChCA,iBAAK;IAETA,8BAAO;IACHA,uEAaK;IACLA,sEAIK;IACTA,iBAAQ;;;;IAnBqBA,gBAAY;IAAZA,0CAAY;IAchCA,eAA4B;IAA5BA,oDAA4B;;;ADxBjD,WAAaC,aAAa;EAApB,MAAOA,aAAa;IAGtBC,YACYC,cAA8B,EAC9BC,eAAgC;MADhC,mBAAc,GAAdD,cAAc;MACd,oBAAe,GAAfC,eAAe;MAJ3B,cAAS,GAAG,IAAI;IAKb;IAEHC,QAAQ;MACJ,IAAI,CAACD,eAAe,CAACE,MAAM,EAAE,CACxBC,IAAI,CAACR,KAAK,EAAE,CAAC,CACbS,SAAS,CAACC,SAAS,IAAI,IAAI,CAACA,SAAS,GAAGA,SAAS,CAAC;IAC3D;IAEAC,cAAc,CAACC,EAAU;MACrB,MAAMC,QAAQ,GAAG,IAAI,CAACH,SAAS,CAACI,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACH,EAAE,KAAKA,EAAE,CAAC;MACtDC,QAAQ,CAACG,UAAU,GAAG,IAAI;MAC1B,IAAI,CAACX,eAAe,CAACY,MAAM,CAACL,EAAE,CAAC,CAC1BJ,IAAI,CAACR,KAAK,EAAE,CAAC,CACbS,SAAS,CAAC,MAAK;QACZ,IAAI,CAACC,SAAS,GAAG,IAAI,CAACA,SAAS,CAACQ,MAAM,CAACH,CAAC,IAAIA,CAAC,CAACH,EAAE,KAAKA,EAAE,CAAC;MAC5D,CAAC,CAAC;IACV;;;qBAtBSV,aAAa;EAAA;;UAAbA,aAAa;IAAAiB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCN1BtB,8BAAkB;QAEVA,8DAEM;QACNA,mEA+BQ;QACZA,iBAAM;;;QAnCIA,eAAgB;QAAhBA,qCAAgB;QAGdA,eAAe;QAAfA,oCAAe;;;;;;SDClBC,aAAa;AAAA","names":["first","i0","ListComponent","constructor","accountService","employeeService","ngOnInit","getAll","pipe","subscribe","employees","deleteEmployee","id","employee","find","x","isDeleting","delete","filter","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\JiM\\School\\3rd Year\\2nd Semester\\SUBJECTS\\IT-INTPROG32\\Coding (INTPROG32)\\Final\\project4 - Copy\\frontend\\src\\app\\employees\\list.component.ts","D:\\JiM\\School\\3rd Year\\2nd Semester\\SUBJECTS\\IT-INTPROG32\\Coding (INTPROG32)\\Final\\project4 - Copy\\frontend\\src\\app\\employees\\list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { first } from 'rxjs/operators';\r\n\r\nimport { AccountService, EmployeeService } from '@app/_services';\r\n\r\n@Component({ templateUrl: 'list.component.html' })\r\nexport class ListComponent implements OnInit {\r\n    employees = null;\r\n\r\n    constructor(\r\n        private accountService: AccountService,\r\n        private employeeService: EmployeeService\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        this.employeeService.getAll()\r\n            .pipe(first())\r\n            .subscribe(employees => this.employees = employees);\r\n    }\r\n\r\n    deleteEmployee(id: string) {\r\n        const employee = this.employees.find(x => x.id === id);\r\n        employee.isDeleting = true;\r\n        this.employeeService.delete(id)\r\n            .pipe(first())\r\n            .subscribe(() => {\r\n                this.employees = this.employees.filter(x => x.id !== id);\r\n            });\r\n    }\r\n} ","<div class=\"card\">\r\n    <div class=\"card-body\">\r\n        <div *ngIf=\"!employees\" class=\"text-center\">\r\n            <span class=\"spinner-border spinner-border-lg align-center\"></span>\r\n        </div>\r\n        <table *ngIf=\"employees\" class=\"table table-striped\">\r\n            <thead>\r\n                <tr>\r\n                    <th style=\"width: 20%\">Employee ID</th>\r\n                    <th style=\"width: 20%\">Name</th>\r\n                    <th style=\"width: 20%\">Department</th>\r\n                    <th style=\"width: 20%\">Position</th>\r\n                    <th style=\"width: 20%\"></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let employee of employees\">\r\n                    <td>{{employee.employeeId}}</td>\r\n                    <td>{{employee.account?.firstName}} {{employee.account?.lastName}}</td>\r\n                    <td>{{employee.department}}</td>\r\n                    <td>{{employee.position}}</td>\r\n                    <td style=\"white-space: nowrap\">\r\n                        <a routerLink=\"../edit/{{employee.id}}\" class=\"btn btn-sm btn-primary me-1\">Edit</a>\r\n                        <button (click)=\"deleteEmployee(employee.id)\" class=\"btn btn-sm btn-danger btn-delete-employee\"\r\n                            [disabled]=\"employee.isDeleting\">\r\n                            <span *ngIf=\"employee.isDeleting\" class=\"spinner-border spinner-border-sm\"></span>\r\n                            <span *ngIf=\"!employee.isDeleting\">Delete</span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n                <tr *ngIf=\"employees.length === 0\">\r\n                    <td colspan=\"5\" class=\"text-center\">\r\n                        <span class=\"text-muted\">No employees found</span>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div> "]},"metadata":{},"sourceType":"module","externalDependencies":[]}