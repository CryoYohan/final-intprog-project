{"ast":null,"code":"import { first } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/_services\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction LayoutComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" for Employee \", ctx_r0.employeeId, \" - \", ctx_r0.getEmployeeFullName(), \" \");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    employeeId: a0\n  };\n};\nexport let LayoutComponent = /*#__PURE__*/(() => {\n  class LayoutComponent {\n    constructor(employeeService, route) {\n      this.employeeService = employeeService;\n      this.route = route;\n      this.employeeId = null;\n      this.employee = null;\n    }\n    ngOnInit() {\n      this.route.queryParams.subscribe(params => {\n        this.employeeId = params['employeeid'];\n        if (this.employeeId) {\n          this.loadEmployee();\n        }\n      });\n    }\n    loadEmployee() {\n      this.employeeService.getById(this.employeeId).pipe(first()).subscribe(employee => {\n        this.employee = employee;\n      });\n    }\n    getEmployeeFullName() {\n      var _a;\n      if (!((_a = this.employee) === null || _a === void 0 ? void 0 : _a.account)) return '';\n      const firstName = this.employee.account.firstName.charAt(0).toUpperCase() + this.employee.account.firstName.slice(1).toLowerCase();\n      const lastName = this.employee.account.lastName.charAt(0).toUpperCase() + this.employee.account.lastName.slice(1).toLowerCase();\n      return `${firstName} ${lastName}`;\n    }\n  }\n  LayoutComponent.ɵfac = function LayoutComponent_Factory(t) {\n    return new (t || LayoutComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n  LayoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LayoutComponent,\n    selectors: [[\"ng-component\"]],\n    decls: 7,\n    vars: 4,\n    consts: [[4, \"ngIf\"], [1, \"mb-3\"], [\"routerLink\", \"add\", 1, \"btn\", \"btn-sm\", \"btn-success\", 3, \"queryParams\"]],\n    template: function LayoutComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \" Requests \");\n        i0.ɵɵtemplate(2, LayoutComponent_ng_container_2_Template, 2, 2, \"ng-container\", 0);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"a\", 2);\n        i0.ɵɵtext(5, \"New Request\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(6, \"router-outlet\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.employeeId && ctx.employee);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"queryParams\", i0.ɵɵpureFunction1(2, _c0, ctx.employeeId));\n      }\n    },\n    dependencies: [i3.NgIf, i2.RouterOutlet, i2.RouterLink],\n    encapsulation: 2\n  });\n  return LayoutComponent;\n})();","map":{"version":3,"mappings":"AAEA,SAASA,KAAK,QAAQ,gBAAgB;;;;;;;ICAlCC,6BAA6C;IACzCA,YACJ;IAAAA,0BAAe;;;;IADXA,eACJ;IADIA,oGACJ;;;;;;;;ADMJ,WAAaC,eAAe;EAAtB,MAAOA,eAAe;IAIxBC,YACYC,eAAgC,EAChCC,KAAqB;MADrB,oBAAe,GAAfD,eAAe;MACf,UAAK,GAALC,KAAK;MALjB,eAAU,GAAkB,IAAI;MAChC,aAAQ,GAAoB,IAAI;IAK7B;IAEHC,QAAQ;MACJ,IAAI,CAACD,KAAK,CAACE,WAAW,CAACC,SAAS,CAACC,MAAM,IAAG;QACtC,IAAI,CAACC,UAAU,GAAGD,MAAM,CAAC,YAAY,CAAC;QACtC,IAAI,IAAI,CAACC,UAAU,EAAE;UACjB,IAAI,CAACC,YAAY,EAAE;;MAE3B,CAAC,CAAC;IACN;IAEQA,YAAY;MAChB,IAAI,CAACP,eAAe,CAACQ,OAAO,CAAC,IAAI,CAACF,UAAW,CAAC,CACzCG,IAAI,CAACb,KAAK,EAAE,CAAC,CACbQ,SAAS,CAACM,QAAQ,IAAG;QAClB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;MAC5B,CAAC,CAAC;IACV;IAEAC,mBAAmB;;MACf,IAAI,EAAC,UAAI,CAACD,QAAQ,0CAAEE,OAAO,GAAE,OAAO,EAAE;MACtC,MAAMC,SAAS,GAAG,IAAI,CAACH,QAAQ,CAACE,OAAO,CAACC,SAAS,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAG,IAAI,CAACL,QAAQ,CAACE,OAAO,CAACC,SAAS,CAACG,KAAK,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE;MAClI,MAAMC,QAAQ,GAAG,IAAI,CAACR,QAAQ,CAACE,OAAO,CAACM,QAAQ,CAACJ,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAG,IAAI,CAACL,QAAQ,CAACE,OAAO,CAACM,QAAQ,CAACF,KAAK,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE;MAC/H,OAAO,GAAGJ,SAAS,IAAIK,QAAQ,EAAE;IACrC;;;qBA/BSpB,eAAe;EAAA;;UAAfA,eAAe;IAAAqB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCV5B1B,0BAAI;QACAA,0BACA;QAAAA,kFAEe;QACnBA,iBAAK;QAELA,8BAAkB;QACgFA,2BAAW;QAAAA,iBAAI;QAGjHA,gCAA+B;;;QATZA,eAA4B;QAA5BA,qDAA4B;QAMvBA,eAA0C;QAA1CA,wEAA0C;;;;;;SDErDC,eAAe;AAAA","names":["first","i0","LayoutComponent","constructor","employeeService","route","ngOnInit","queryParams","subscribe","params","employeeId","loadEmployee","getById","pipe","employee","getEmployeeFullName","account","firstName","charAt","toUpperCase","slice","toLowerCase","lastName","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\JiM\\School\\3rd Year\\2nd Semester\\SUBJECTS\\IT-INTPROG32\\Coding (INTPROG32)\\Final\\project6\\frontend\\src\\app\\requests\\layout.component.ts","D:\\JiM\\School\\3rd Year\\2nd Semester\\SUBJECTS\\IT-INTPROG32\\Coding (INTPROG32)\\Final\\project6\\frontend\\src\\app\\requests\\layout.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { first } from 'rxjs/operators';\r\n\r\nimport { AccountService, EmployeeService } from '@app/_services';\r\nimport { Employee } from '@app/_models';\r\n\r\n@Component({\r\n    templateUrl: 'layout.component.html'\r\n})\r\nexport class LayoutComponent implements OnInit {\r\n    employeeId: string | null = null;\r\n    employee: Employee | null = null;\r\n\r\n    constructor(\r\n        private employeeService: EmployeeService,\r\n        private route: ActivatedRoute\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        this.route.queryParams.subscribe(params => {\r\n            this.employeeId = params['employeeid'];\r\n            if (this.employeeId) {\r\n                this.loadEmployee();\r\n            }\r\n        });\r\n    }\r\n\r\n    private loadEmployee() {\r\n        this.employeeService.getById(this.employeeId!)\r\n            .pipe(first())\r\n            .subscribe(employee => {\r\n                this.employee = employee;\r\n            });\r\n    }\r\n\r\n    getEmployeeFullName(): string {\r\n        if (!this.employee?.account) return '';\r\n        const firstName = this.employee.account.firstName.charAt(0).toUpperCase() + this.employee.account.firstName.slice(1).toLowerCase();\r\n        const lastName = this.employee.account.lastName.charAt(0).toUpperCase() + this.employee.account.lastName.slice(1).toLowerCase();\r\n        return `${firstName} ${lastName}`;\r\n    }\r\n} ","<h1>\r\n    Requests\r\n    <ng-container *ngIf=\"employeeId && employee\">\r\n        for Employee {{employeeId}} - {{getEmployeeFullName()}}\r\n    </ng-container>\r\n</h1>\r\n\r\n<div class=\"mb-3\">\r\n    <a routerLink=\"add\" [queryParams]=\"{ employeeId: employeeId }\" class=\"btn btn-sm btn-success\">New Request</a>\r\n</div>\r\n\r\n<router-outlet></router-outlet> "]},"metadata":{},"sourceType":"module","externalDependencies":[]}